
{% extends "public/templates/public_template.html" %}

{% block title %}DeployUS{% endblock %}

{% block main %}
<div class="container">
    <div class="row">
        <div class="col">

            <h1>Welcome to DeployUS! :-)</h1>
            <hr>

            <!-- Uploading scripts to the database -->
            <h3>Upload a docker-compose.yml script here.</h3>
            <form action="/" method="POST" enctype="multipart/form-data">
                
                <!-- Name attribute -->
                <label for="name">Script name:</label><br>
                <input type="text" id="name" name="name"><br>

                <!-- File selection -->
                <div class="form-group">
                    <label for="scriptfile">Select file</label>
                    <div class="custom-file">
                        <input type="file" class="custom-file-input" name="scriptfile" id="scriptfile" accept=".yml">
                    </div>
                </div>

                <button type="submit" class="btn btn-primary">Upload</button>
            </form>


            <!-- Viewing scripts in databases -->
            <div top = 100px></div>
            <h3>Scripts in database</h3>
            <hr>
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Name</th>
                    <th scope="col">Date Uploaded</th>
                    <th scope="col">SHA256</th>
                  </tr>
                </thead>
                <tbody>
                    {% for id,name,date, hash in dbscripts %}
                        <tr>
                            <th scope="row">{{ id }}</th>
                            <td>{{ name }}</td>
                            <td>{{ date }}</td>
                            <td>{{ hash }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
              </table>

        </div>
    </div>
</div>

{% endblock %}